<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ID Card Generator</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <body>
    <div class="container mt-5">
      <div class="row justify-content-center">
        <div class="col-md-8">
          <div class="card shadow">
            <div class="card-header text-white">
              <h2 class="mb-0">Membership Card - Registration</h2>
            </div>
            <div class="card-body">
              <form id="userForm" enctype="multipart/form-data">
                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label for="fullName" class="form-label">Full Name</label>
                    <input
                      type="text"
                      class="form-control"
                      id="fullName"
                      name="fullName"
                      required
                    />
                  </div>

                  <div class="col-md-6 mb-3">
                    <label for="fatherName" class="form-label"
                      >Father's Name</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="fatherName"
                      name="fatherName"
                    />
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label for="email" class="form-label">Email</label>
                    <input
                      type="email"
                      class="form-control"
                      id="email"
                      name="email"
                      required
                    />
                  </div>

                  <div class="col-md-6 mb-3">
                    <label for="phone" class="form-label">Phone Number</label>
                    <input
                      type="tel"
                      class="form-control"
                      id="phone"
                      name="phone"
                    />
                  </div>
                </div>

                <!-- New fields for Branch and District -->
                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label for="branch" class="form-label">Branch</label>
                    <input
                      type="text"
                      class="form-control"
                      id="branch"
                      name="branch"
                    />
                  </div>

                  <div class="col-md-6 mb-3">
                    <label for="district" class="form-label">District</label>
                    <input
                      type="text"
                      class="form-control"
                      id="district"
                      name="district"
                    />
                  </div>
                </div>

                <div class="mb-3">
                  <label for="address" class="form-label">Address</label>
                  <textarea
                    class="form-control"
                    id="address"
                    name="address"
                    rows="2"
                  ></textarea>
                </div>

                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label for="dob" class="form-label">Date of Birth</label>
                    <input
                      type="date"
                      class="form-control"
                      id="dob"
                      name="dob"
                    />
                  </div>

                  <div class="col-md-6 mb-3">
                    <label for="bloodGroup" class="form-label"
                      >Blood Group</label
                    >
                    <select
                      class="form-control"
                      id="bloodGroup"
                      name="bloodGroup"
                    >
                      <option value="">Select Blood Group</option>
                      <option value="A+">A+</option>
                      <option value="A-">A-</option>
                      <option value="B+">B+</option>
                      <option value="B-">B-</option>
                      <option value="AB+">AB+</option>
                      <option value="AB-">AB-</option>
                      <option value="O+">O+</option>
                      <option value="O-">O-</option>
                    </select>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label for="education" class="form-label">Education</label>
                    <input
                      type="text"
                      class="form-control"
                      id="education"
                      name="education"
                    />
                  </div>

                  <div class="col-md-6 mb-3">
                    <label for="occupation" class="form-label"
                      >Occupation</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="occupation"
                      name="occupation"
                    />
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label for="aadhar" class="form-label">Aadhar Number</label>
                    <input
                      type="text"
                      class="form-control"
                      id="aadhar"
                      name="aadhar"
                    />
                  </div>

                  <div class="col-md-6 mb-3">
                    <label for="voterID" class="form-label">Voter ID</label>
                    <input
                      type="text"
                      class="form-control"
                      id="voterID"
                      name="voterID"
                    />
                  </div>
                </div>

                <div class="mb-3">
                  <label for="memberNo" class="form-label"
                    >Member Number (Optional)</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="memberNo"
                    name="memberNo"
                  />
                  <small class="text-muted"
                    >If left blank, system ID will be used</small
                  >
                </div>

                <div class="mb-3">
                  <label for="photo" class="form-label">Upload Photo</label>
                  <input
                    type="file"
                    class="form-control"
                    id="photo"
                    name="photo"
                    accept="image/jpeg,image/png"
                    required
                  />
                  <small class="text-muted"
                    >Please upload a passport-sized photo (max 5MB)</small
                  >
                </div>

                <div class="mb-3">
                  <div id="photoPreview" class="mt-2 d-none">
                    <img
                      id="previewImage"
                      class="img-thumbnail"
                      style="max-height: 200px"
                    />
                  </div>
                </div>
                <!-- Add this after the photo upload field in index.html -->
                <div class="mb-3">
                  <label for="certificate" class="form-label"
                    >Upload Community Certificate</label
                  >
                  <input
                    type="file"
                    class="form-control"
                    id="certificate"
                    name="certificate"
                    accept="image/jpeg,image/png,application/pdf"
                    required
                  />
                  <small class="text-muted"
                    >Please upload your community certificate (max 10MB, PDF or
                    image)</small
                  >
                </div>

                <div class="mb-3">
                  <div id="certificatePreview" class="mt-2 d-none">
                    <p id="certificateFileName" class="mb-1"></p>
                    <div id="certificateImagePreview" class="d-none">
                      <img
                        id="previewCertificateImage"
                        class="img-thumbnail"
                        style="max-height: 200px"
                      />
                    </div>
                    <div id="certificatePdfPreview" class="d-none">
                      <p class="text-success">
                        <i class="bi bi-file-earmark-pdf"></i> PDF file selected
                      </p>
                    </div>
                  </div>
                </div>

                <div class="d-grid">
                  <button type="submit" class="btn btn-danger">
                    Generate ID Card
                  </button>
                </div>
              </form>

              <div id="processing" class="mt-3 text-center d-none">
                <div class="spinner-border text-danger" role="status">
                  <span class="visually-hidden">Loading...</span>
                </div>
                <p>Processing your ID card...</p>
              </div>

              <div id="success" class="mt-3 text-center d-none">
                <div class="alert alert-success">
                  <h4>Your ID Card is Ready!</h4>
                  <p>Click the button below to download your ID card</p>
                  <button id="downloadButton" class="btn btn-success mt-2">
                    Download ID Card
                  </button>
                  <a id="viewCardLink" class="btn btn-info mt-2 ms-2"
                    >View ID Card</a
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Terms and Conditions Modal -->
    <div
      class="modal fade"
      id="termsModal"
      tabindex="-1"
      aria-labelledby="termsModalLabel"
      aria-hidden="true"
      data-bs-backdrop="static"
    >
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header bg-dark text-white">
            <h5 class="modal-title" id="termsModalLabel">
              Terms and Conditions
            </h5>
          </div>
          <div class="modal-body">
            <div class="terms-content">
              <h4>Privacy Policy & Terms of Service</h4>
              <p>
                Please read and accept our terms and conditions before
                proceeding.
              </p>

              <h5>1. Data Collection and Storage</h5>
              <p>
                We collect and store the personal information you provide,
                including but not limited to your name, contact details,
                address, identification documents, and uploaded files. This
                information is stored securely in our database.
              </p>

              <h5>2. Usage of Data</h5>
              <p>
                Your information will be used to generate your membership card
                and for organizational record-keeping purposes.
              </p>

              <h5>3. Data Protection</h5>
              <p>
                We implement appropriate security measures to protect your
                personal information against unauthorized access, alteration,
                disclosure, or destruction.
              </p>

              <h5>4. Your Rights</h5>
              <p>
                You have the right to request access to your personal data,
                correction of inaccurate data, or deletion of your data from our
                records.
              </p>

              <h5>5. Membership Fee</h5>
              <p>
                The membership card requires a one-time payment processing fee
                which is non-refundable upon successful processing.
              </p>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              id="declineTermsBtn"
            >
              Decline
            </button>
            <button type="button" class="btn btn-primary" id="acceptTermsBtn">
              Accept
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Payment Modal -->
    <div
      class="modal fade"
      id="paymentModal"
      tabindex="-1"
      aria-labelledby="paymentModalLabel"
      aria-hidden="true"
      data-bs-backdrop="static"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header bg-success text-white">
            <h5 class="modal-title" id="paymentModalLabel">Payment Gateway</h5>
          </div>
          <div class="modal-body">
            <div class="payment-form">
              <h4 class="text-center mb-4">Complete Your Membership Payment</h4>

              <div class="card mb-3">
                <div class="card-body bg-light">
                  <h5 class="card-title">Payment Summary</h5>
                  <p class="card-text">Membership ID Card Fee: ₹100.00</p>
                  <p class="card-text">
                    <strong>Total Amount: ₹100.00</strong>
                  </p>
                </div>
              </div>

              <div class="mb-3">
                <label for="cardNumber" class="form-label">Card Number</label>
                <input
                  type="text"
                  class="form-control"
                  id="cardNumber"
                  placeholder="1234 5678 9012 3456"
                  disabled
                />
              </div>

              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="expiryDate" class="form-label">Expiry Date</label>
                  <input
                    type="text"
                    class="form-control"
                    id="expiryDate"
                    placeholder="MM/YY"
                    disabled
                  />
                </div>
                <div class="col-md-6 mb-3">
                  <label for="cvv" class="form-label">CVV</label>
                  <input
                    type="text"
                    class="form-control"
                    id="cvv"
                    placeholder="123"
                    disabled
                  />
                </div>
              </div>

              <p class="text-center text-muted mt-3">
                This is a demo payment page. No actual payment will be
                processed.
              </p>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              id="cancelPaymentBtn"
            >
              Cancel
            </button>
            <button
              type="button"
              class="btn btn-success"
              id="completePaymentBtn"
            >
              Pay ₹100.00
            </button>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/script.js"></script>
  </body>
</html>
